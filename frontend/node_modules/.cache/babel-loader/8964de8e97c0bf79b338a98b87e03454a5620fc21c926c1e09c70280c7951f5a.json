{"ast":null,"code":"import React,{useContext,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{UserContext}from\"../UserContext\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){const[inputUsername,setInputUsername]=useState(\"\");const{setUsername}=useContext(UserContext);const[error,setError]=useState(\"\");const navigate=useNavigate();const handleSubmit=()=>{if(inputUsername.trim()===\"\"){setError(\"Please enter a username.\");return;}// Check if username exists via backend API before navigating\n// axios.get(`http://127.0.0.1:5000/recommend?username=${inputUsername}`)\naxios.get(`/recommend?username=${inputUsername}`).then(()=>{setError(\"\");setUsername(inputUsername);navigate(\"/problems\");}).catch(err=>{if(err.response&&err.response.status===400){setError(\"Invalid username. Please try again.\");}else if(err.response&&err.response.status===404){setError(\"No submissions found for this user.\");}else{setError(\"Server error. Please try later.\");}});};return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",marginTop:\"50px\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Codeforces Recommender\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Codeforces Username\",value:inputUsername,onChange:e=>setInputUsername(e.target.value),style:{padding:\"10px\",fontSize:\"16px\"}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,style:{marginLeft:\"10px\",padding:\"10px\",fontSize:\"16px\"},children:\"Submit\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",marginTop:\"10px\"},children:error})]});}export default Home;","map":{"version":3,"names":["React","useContext","useState","useNavigate","UserContext","axios","jsx","_jsx","jsxs","_jsxs","Home","inputUsername","setInputUsername","setUsername","error","setError","navigate","handleSubmit","trim","get","then","catch","err","response","status","style","textAlign","marginTop","children","type","placeholder","value","onChange","e","target","padding","fontSize","onClick","marginLeft","color"],"sources":["C:/Users/rotesh kumar/Desktop/cdr/frontend/src/pages/Home.js"],"sourcesContent":["\r\nimport React, { useContext, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { UserContext } from \"../UserContext\";\r\nimport axios from \"axios\";\r\n\r\nfunction Home() {\r\n  const [inputUsername, setInputUsername] = useState(\"\");\r\n  const { setUsername } = useContext(UserContext);\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = () => {\r\n    if (inputUsername.trim() === \"\") {\r\n      setError(\"Please enter a username.\");\r\n      return;\r\n    }\r\n\r\n    // Check if username exists via backend API before navigating\r\n    // axios.get(`http://127.0.0.1:5000/recommend?username=${inputUsername}`)\r\n    axios.get(`/recommend?username=${inputUsername}`)\r\n      .then(() => {\r\n        setError(\"\");\r\n        setUsername(inputUsername);\r\n        navigate(\"/problems\");\r\n      })\r\n      .catch((err) => {\r\n        if (err.response && err.response.status === 400) {\r\n          setError(\"Invalid username. Please try again.\");\r\n        } else if (err.response && err.response.status === 404) {\r\n          setError(\"No submissions found for this user.\");\r\n        } else {\r\n          setError(\"Server error. Please try later.\");\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: \"center\", marginTop: \"50px\" }}>\r\n      <h1>Codeforces Recommender</h1>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Enter Codeforces Username\"\r\n        value={inputUsername}\r\n        onChange={(e) => setInputUsername(e.target.value)}\r\n        style={{ padding: \"10px\", fontSize: \"16px\" }}\r\n      />\r\n      <button onClick={handleSubmit} style={{ marginLeft: \"10px\", padding: \"10px\", fontSize: \"16px\" }}>\r\n        Submit\r\n      </button>\r\n      {error && <p style={{ color: \"red\", marginTop: \"10px\" }}>{error}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACd,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAEW,WAAY,CAAC,CAAGZ,UAAU,CAACG,WAAW,CAAC,CAC/C,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAc,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAc,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAIN,aAAa,CAACO,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CAC/BH,QAAQ,CAAC,0BAA0B,CAAC,CACpC,OACF,CAEA;AACA;AACAV,KAAK,CAACc,GAAG,CAAC,uBAAuBR,aAAa,EAAE,CAAC,CAC9CS,IAAI,CAAC,IAAM,CACVL,QAAQ,CAAC,EAAE,CAAC,CACZF,WAAW,CAACF,aAAa,CAAC,CAC1BK,QAAQ,CAAC,WAAW,CAAC,CACvB,CAAC,CAAC,CACDK,KAAK,CAAEC,GAAG,EAAK,CACd,GAAIA,GAAG,CAACC,QAAQ,EAAID,GAAG,CAACC,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAC/CT,QAAQ,CAAC,qCAAqC,CAAC,CACjD,CAAC,IAAM,IAAIO,GAAG,CAACC,QAAQ,EAAID,GAAG,CAACC,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CACtDT,QAAQ,CAAC,qCAAqC,CAAC,CACjD,CAAC,IAAM,CACLA,QAAQ,CAAC,iCAAiC,CAAC,CAC7C,CACF,CAAC,CAAC,CACN,CAAC,CAED,mBACEN,KAAA,QAAKgB,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAQ,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAC,QAAA,eACrDrB,IAAA,OAAAqB,QAAA,CAAI,wBAAsB,CAAI,CAAC,cAC/BrB,IAAA,UACEsB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,2BAA2B,CACvCC,KAAK,CAAEpB,aAAc,CACrBqB,QAAQ,CAAGC,CAAC,EAAKrB,gBAAgB,CAACqB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAClDN,KAAK,CAAE,CAAEU,OAAO,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAC9C,CAAC,cACF7B,IAAA,WAAQ8B,OAAO,CAAEpB,YAAa,CAACQ,KAAK,CAAE,CAAEa,UAAU,CAAE,MAAM,CAAEH,OAAO,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAR,QAAA,CAAC,QAEjG,CAAQ,CAAC,CACRd,KAAK,eAAIP,IAAA,MAAGkB,KAAK,CAAE,CAAEc,KAAK,CAAE,KAAK,CAAEZ,SAAS,CAAE,MAAO,CAAE,CAAAC,QAAA,CAAEd,KAAK,CAAI,CAAC,EACjE,CAAC,CAEV,CAEA,cAAe,CAAAJ,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}